{"ast":null,"code":"var _jsxFileName = \"C:\\\\course docs\\\\ISI\\\\course 14-Software Deployment and Integration\\\\user\\\\server\\\\src\\\\components\\\\beginQuiz.js\";\n\n/* eslint-disable react/no-direct-mutation-state */\nimport React from 'react';\nimport { Redirect } from 'react-router-dom'; // const result = [{qusname:'what is you firstname' , option:'jassi,jaskaran,karan,prabh' , correct:'jassi'},\n//                 {qusname:'what is you lastname' , option:'singh,kaur,lake,wheat' , correct:'singh'}\n//                 ]\n\nexport default class Begin extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOptionChange = changeEvent => {\n      this.setState({\n        selectedoption: changeEvent.target.value\n      });\n    };\n\n    this.state = {\n      userData: [],\n      len: 0,\n      option: \"\",\n      selectedoption: '',\n      loggedData: JSON.parse(localStorage.getItem('loggedData')),\n      redirect: false\n    };\n  } //calling the api to get favourite list data\n\n\n  componentDidMount() {\n    const url = 'https://backend-quiz.herokuapp.com/api/user/questions';\n    fetch(url).then(res => res.json()).then(result => {\n      this.setState({\n        userData: result\n      });\n    });\n  }\n\n  nextQuestion(e) {\n    let insertData = {\n      optionSelected: this.state.selectedoption,\n      selectedID: e,\n      user_id: this.state.loggedData[0].id\n    };\n    const url = 'https://backend-quiz.herokuapp.com/api/user/submitQuestion';\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(insertData),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(result => {\n      if (result.status === 200) {\n        if (this.state.len < this.state.userData.length - 1) {\n          this.forceUpdate();\n          this.state.len += 1;\n          this.setState({\n            selectedoption: ''\n          });\n        } else {\n          this.setState({\n            redirect: true\n          });\n        }\n      }\n    });\n  }\n\n  calloptions() {\n    this.state.option = this.state.userData[this.state.len].options.split(\",\");\n  }\n\n  render() {\n    // eslint-disable-next-line no-lone-blocks\n    // {this.state.userData.map((item,i) => (this.state.option = item.options.split(\",\")))}\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: \"/score\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.state.userData.length === 0 && React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Sorry, No Questions till now :(\"), this.state.len < this.state.userData.length && React.createElement(\"div\", {\n      className: \"options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.calloptions(), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.userData[this.state.len].question_text), this.state.option.map((opt, key) => React.createElement(\"div\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      name: opt,\n      value: opt,\n      onChange: this.handleOptionChange,\n      checked: opt === this.state.selectedoption,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), \" \", opt)), React.createElement(\"button\", {\n      className: \"btn btn-primary btn-block\",\n      type: \"button\",\n      disabled: !this.state.selectedoption,\n      onClick: () => {\n        this.nextQuestion(this.state.userData[this.state.len].id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \" \", this.state.len < this.state.userData.length - 1 ? \"Next\" : \"Finish\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\course docs\\ISI\\course 14-Software Deployment and Integration\\user\\server\\src\\components\\beginQuiz.js"],"names":["React","Redirect","Begin","Component","constructor","props","handleOptionChange","changeEvent","setState","selectedoption","target","value","state","userData","len","option","loggedData","JSON","parse","localStorage","getItem","redirect","componentDidMount","url","fetch","then","res","json","result","nextQuestion","e","insertData","optionSelected","selectedID","user_id","id","method","body","stringify","headers","status","length","forceUpdate","calloptions","options","split","render","question_text","map","opt","key"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-direct-mutation-state */\r\nimport React from 'react';\r\nimport {Redirect} from 'react-router-dom'\r\n// const result = [{qusname:'what is you firstname' , option:'jassi,jaskaran,karan,prabh' , correct:'jassi'},\r\n//                 {qusname:'what is you lastname' , option:'singh,kaur,lake,wheat' , correct:'singh'}\r\n//                 ]\r\n\r\nexport default  class Begin extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        userData: [],\r\n        len : 0 ,\r\n        option : \"\" ,\r\n        selectedoption : '',\r\n        loggedData : JSON.parse(localStorage.getItem('loggedData')),\r\n        redirect : false\r\n      };\r\n    }\r\n         \r\n  //calling the api to get favourite list data\r\n    componentDidMount() {\r\n      const url = 'https://backend-quiz.herokuapp.com/api/user/questions'\r\n      fetch(url)\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            this.setState({\r\n              userData: result\r\n            });\r\n          },\r\n        )   \r\n    }\r\n    nextQuestion (e)\r\n    {    \r\n      let insertData = {\r\n        optionSelected : this.state.selectedoption,\r\n        selectedID : e,\r\n        user_id : this.state.loggedData[0].id\r\n        }\r\n        const url = 'https://backend-quiz.herokuapp.com/api/user/submitQuestion'\r\n        fetch(url,{\r\n          method: 'POST',\r\n          body: JSON.stringify(insertData),\r\n          headers: {\r\n              'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        .then(res => res.json())\r\n          .then(\r\n            (result) => {\r\n             if(result.status ===200){\r\n                 if(this.state.len < this.state.userData.length-1){\r\n                    this.forceUpdate()\r\n                    this.state.len+=1\r\n                    this.setState({\r\n                      selectedoption: ''\r\n                    });\r\n                 } else{\r\n                    this.setState({\r\n                        redirect: true\r\n                      });\r\n                 }         \r\n             }\r\n            },\r\n          )\r\n    }\r\n    calloptions()\r\n    {\r\n      this.state.option = this.state.userData[this.state.len].options.split(\",\")\r\n    }\r\n   \r\n    handleOptionChange = (changeEvent) => {\r\n      this.setState({\r\n        selectedoption: changeEvent.target.value\r\n      });\r\n    }\r\n  \r\n    render() {\r\n      // eslint-disable-next-line no-lone-blocks\r\n      // {this.state.userData.map((item,i) => (this.state.option = item.options.split(\",\")))}\r\n      if (this.state.redirect) {\r\n        return <Redirect to='/score' />\r\n      }\r\n        return (     \r\n        <div>\r\n            {this.state.userData.length===0 &&\r\n               <h3>Sorry, No Questions till now :(</h3>\r\n            }  \r\n            {this.state.len < this.state.userData.length &&\r\n                <div className=\"options\">\r\n                    {this.calloptions()}\r\n                    <h2>{this.state.userData[this.state.len].question_text}</h2>\r\n                                                    \r\n                    {this.state.option.map((opt,key) =>(\r\n                      <div key={key} >\r\n                        <input type=\"radio\" name={opt} value={opt} onChange={this.handleOptionChange} checked={opt ===this.state.selectedoption} /> {opt}\r\n                      </div>\r\n                    ))}\r\n\r\n                  <button className=\"btn btn-primary btn-block\" type=\"button\" disabled={!this.state.selectedoption} onClick={()=>{this.nextQuestion(this.state.userData[this.state.len].id)}}> {this.state.len < this.state.userData.length-1 ? \"Next\" : \"Finish\"}</button>\r\n                </div>\r\n            }\r\n        </div>\r\n        );\r\n    }\r\n  }\r\n  "]},"metadata":{},"sourceType":"module"}